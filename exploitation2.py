import datetime
from datetime import datetime, timedelta
import matplotlib.pyplot as plt

nb_tags = 4

ignored = []

tags = []
times = []

for i in range(nb_tags):
    tags.append([])
    times.append([])

for i in ["chambre", "couloir", "radiateur", "salon"]:
    if i in ignored:
        continue
    with open(f"{i}.txt", "r") as f:
        line="1"
        while line:
            line=f.readline()
            sp = line.replace("\n", "").split(",")
            if len(sp) >= 2:
                times[i].append(datetime.fromtimestamp(int(sp[0])))
                tags[i].append(float(sp[1]))


plt.figure(0, figsize=(20,14))

for i in range(nb_tags):
    if i+i in ignored:
        continue
    plt.plot(times[i], tags[i], "o", markersize=5.0)

plt.xlim([datetime.now() + timedelta(days=-1), datetime.now() + timedelta(minutes=30)])
# plt.show()
plt.savefig("24hours.png")

plt.xlim([datetime.now() + timedelta(hours=-12), datetime.now() + timedelta(minutes=30)])
plt.savefig("12hours.png")

plt.xlim([datetime.now() + timedelta(days=-5), datetime.now() + timedelta(hours=1)])
plt.savefig("5days.png")
